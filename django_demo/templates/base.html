<!DOCTYPE html>
<html lang="en">
<head>
  {% block title %}<title>Biblioteka</title>{% endblock %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <!-- Add additional CSS in static file -->
  {% load static %}
  <link rel="stylesheet" href="{% static 'library/style.css' %}">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light static-top mb-5 shadow">
    <div class="container">
      <a class="navbar-brand" href="#">
        <svg class="bi bi-book-half" width="2em" height="2em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M3.214 1.072C4.813.752 6.916.71 8.354 2.146A.5.5 0 018.5 2.5v11a.5.5 0 01-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 010 13.5v-11a.5.5 0 01.276-.447L.5 2.5l-.224-.447.002-.001.004-.002.013-.006a5.017 5.017 0 01.22-.103 12.958 12.958 0 012.7-.869zM1 2.82v9.908c.846-.343 1.944-.672 3.074-.788 1.143-.118 2.387-.023 3.426.56V2.718c-1.063-.929-2.631-.956-4.09-.664A11.958 11.958 0 001 2.82z" clip-rule="evenodd"/>
          <path fill-rule="evenodd" d="M12.786 1.072C11.188.752 9.084.71 7.646 2.146A.5.5 0 007.5 2.5v11a.5.5 0 00.854.354c.843-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0016 13.5v-11a.5.5 0 00-.276-.447L15.5 2.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 00-.799-.34 12.96 12.96 0 00-2.073-.609z" clip-rule="evenodd"/>
        </svg>
      Rajono biblioteka!</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'library:index' %}">Pradžia</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'library:books' %}">Knygos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'library:authors' %}">Autoriai</a>
          </li>
        </ul>
          <ul class="navbar-nav ml-auto">
            {% comment %}
            {% if user.is_authenticated %}
              <li class="nav-item"><a class="nav-link" href="#">
                <svg class="bi bi-person" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M13 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM3.022 13h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002.002zM8 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>
                </svg>
              {{ user.get_username }}</a></li>
              <li class="nav-item"><a class="nav-link" href="">Mano knygos</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'logout'%}">Atsijungti</a></li>   
            {% else %}
              <li class="nav-item"><a class="nav-link" href="{% url 'login'%}?next={{ request.path }}">Prisijungti</a></li>   
            {% endif %}
            {% if not user.is_authenticated %}
              <li class="nav-item"><a class="nav-link" href="{% url 'library:register' %}">Registruotis</a></li>
            {% endif %}
            {% endcomment %}

            {% if user.is_authenticated %}
              <li class="nav-item"><a class="nav-link" href="{% url 'library:profilis' %}">
                <svg class="bi bi-person" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M13 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM3.022 13h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002.002zM8 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>
                </svg>
              {{ user.get_username }}</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'library:mybooks' %}">Mano knygos</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}">Atsijungti</a></li>
            {% else %}
              <li class="nav-item"><a class="nav-link" href="{% url 'login' %}?next={% url 'library:index' %}">Prisijungti</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'library:register' %}">Registruotis</a></li>
            {% endif %}
          </ul>
          <form class="form-inline my-1 my-lg-0" action="{% url 'library:search' %}" method="get">
            <input class="form-control mr-sm-1" style="display: inline; width: 150px;" type="search" placeholder="Paieška" aria-label="Search" name="query">
            <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Ieškoti</button>
          </form>

        {% load i18n %}
        <form action="{% url 'set_language' %}" method="post">
          {% csrf_token %}
          <input name="next" type="hidden" value="{{ redirect_to }}"/>
          <select name="language" class="form-control ml-2" onchange="this.form.submit()">
            {% load static %}
            {% get_current_language as LANGUAGE_CODE %}
            {% get_available_languages as LANGUAGES %}
            {% for lang_code, lang_name in LANGUAGES %}
            <option value="{{ lang_code }}" {% if lang_code == LANGUAGE_CODE %} selected="selected" {% endif %}>
              {{ lang_name }}
            </option>
            {% endfor %}
          </select>
        </form>

      </div>
    </div>
  </nav>

  <div class="container">
  {% block content %}{% endblock %}
  </div>
</body>
</html>